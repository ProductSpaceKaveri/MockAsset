import{Children as t,createElement as e,useState as r,useCallback as n,useEffect as i}from"react";function s(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var o,a={exports:{}};
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/o=a,function(){var t={}.hasOwnProperty;function e(){for(var r=[],n=0;n<arguments.length;n++){var i=arguments[n];if(i){var s=typeof i;if("string"===s||"number"===s)r.push(i);else if(Array.isArray(i)){if(i.length){var o=e.apply(null,i);o&&r.push(o)}}else if("object"===s){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){r.push(i.toString());continue}for(var a in i)t.call(i,a)&&i[a]&&r.push(a)}}}return r.join(" ")}o.exports?(e.default=e,o.exports=e):window.classNames=e}();var l=a.exports;const u=r=>{let{className:n,bootstrapStyle:i,children:s}=r;return t.count(s)>0?e("div",{className:l("alert alert-".concat(i),n)},s):null};u.displayName="Alert";function h(t,e){e.text=e.text?{...t.text,...e.text}:t.text;return{...t,...e}}function c(t,e){!function(t,e){for(const r in t)if(t[r]){e(t[r],r)}}(e,((e,r)=>{null!=e&&t.style.setProperty(r,e)}))}function p(t){return"string"==typeof t||t instanceof String}function d(t){return"function"==typeof t}function f(t){if(function(t){return"[object Array]"===Object.prototype.toString.call(t)}(t))return!1;return"object"===typeof t&&!!t}var _={exports:{}};
/*! For license information please see shifty.js.LICENSE.txt */self,_.exports=function(){var t={55:function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setBezierFunction=e.getCubicBezierTransition=void 0;const n=r(188);e.getCubicBezierTransition=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.25,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.25,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.75,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.75;return i=>function(t,e,r,n,i,s){let o=0,a=0,l=0,u=0,h=0,c=0;const p=t=>((o*t+a)*t+l)*t,d=t=>(3*o*t+2*a)*t+l,f=t=>t>=0?t:0-t;return l=3*e,a=3*(n-e)-l,o=1-l-a,c=3*r,h=3*(i-r)-c,u=1-c-h,_=t,g=(t=>1/(200*t))(1),(t=>((u*t+h)*t+c)*t)(((t,e)=>{let r,n,i,s,o,a;for(i=t,a=0;a<8;a++){if(s=p(i)-t,f(s)<e)return i;if(o=d(i),f(o)<1e-6)break;i-=s/o}if(r=0,n=1,i=t,i<r)return r;if(i>n)return n;for(;r<n;){if(s=p(i),f(s-t)<e)return i;t>s?r=i:n=i,i=.5*(n-r)+r}return i})(_,g));var _,g}(i,t,e,r,n)},e.setBezierFunction=(t,r,i,s,o)=>{const a=(0,e.getCubicBezierTransition)(r,i,s,o);return a.displayName=t,a.x1=r,a.y1=i,a.x2=s,a.y2=o,n.Tweenable.easing[t]=a}},607:function(t,e,r){var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.standardEasingFunctions=e.setBezierFunction=e.Scene=e.interpolate=e.tween=e.Tweenable=e.shouldScheduleUpdate=e.processTweens=void 0;const s=r(188);Object.defineProperty(e,"processTweens",{enumerable:!0,get:function(){return s.processTweens}}),Object.defineProperty(e,"shouldScheduleUpdate",{enumerable:!0,get:function(){return s.shouldScheduleUpdate}}),Object.defineProperty(e,"Tweenable",{enumerable:!0,get:function(){return s.Tweenable}}),Object.defineProperty(e,"tween",{enumerable:!0,get:function(){return s.tween}});var o=r(166);Object.defineProperty(e,"interpolate",{enumerable:!0,get:function(){return o.interpolate}});var a=r(147);Object.defineProperty(e,"Scene",{enumerable:!0,get:function(){return a.Scene}});var l=r(55);Object.defineProperty(e,"setBezierFunction",{enumerable:!0,get:function(){return l.setBezierFunction}});var u=r(64);Object.defineProperty(e,"standardEasingFunctions",{enumerable:!0,get:function(){return u.standardEasingFunctions}}),i(r(699),e)},166:function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.interpolate=void 0;const n=r(188),i=new n.Tweenable,{filters:s}=n.Tweenable;e.interpolate=function(t,e,r){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.Tweenable.easing.linear,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;const l=Object.assign({},t),u=(0,n.composeEasingObject)(t,o);i._filters.length=0,i.setState({}),i._currentState=l,i._originalState=t,i._targetState=e,i._easing=u;for(const t in s)s[t].doesApply(i)&&i._filters.push(s[t]);i._applyFilter("tweenCreated"),i._applyFilter("beforeTween");const h=(0,n.tweenProps)(r,l,t,e,1,a,u);return i._applyFilter("afterTween"),h}},147:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Scene=void 0,e.Scene=class{constructor(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._tweenables=[],e.forEach(this.add.bind(this))}get tweenables(){return[...this._tweenables]}get promises(){return this._tweenables.map((t=>t.then()))}add(t){return this._tweenables.push(t),t}remove(t){const e=this._tweenables.indexOf(t);return e>-1&&this._tweenables.splice(e,1),t}empty(){return this.tweenables.map(this.remove.bind(this))}get isPlaying(){return this._tweenables.some((t=>{let{isPlaying:e}=t;return e}))}tween(){return this._tweenables.forEach((t=>t.tween())),this}pause(){return this._tweenables.forEach((t=>t.pause())),this}resume(){return this._tweenables.filter((t=>{let{hasEnded:e}=t;return!e})).forEach((t=>t.resume())),this}stop(t){return this._tweenables.forEach((e=>e.stop(t))),this}}},64:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.standardEasingFunctions=void 0,e.standardEasingFunctions=Object.freeze({linear:t=>t,easeInQuad:t=>Math.pow(t,2),easeOutQuad:t=>-(Math.pow(t-1,2)-1),easeInOutQuad:t=>(t/=.5)<1?.5*Math.pow(t,2):-.5*((t-=2)*t-2),easeInCubic:t=>Math.pow(t,3),easeOutCubic:t=>Math.pow(t-1,3)+1,easeInOutCubic:t=>(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2),easeInQuart:t=>Math.pow(t,4),easeOutQuart:t=>-(Math.pow(t-1,4)-1),easeInOutQuart:t=>(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2),easeInQuint:t=>Math.pow(t,5),easeOutQuint:t=>Math.pow(t-1,5)+1,easeInOutQuint:t=>(t/=.5)<1?.5*Math.pow(t,5):.5*(Math.pow(t-2,5)+2),easeInSine:t=>1-Math.cos(t*(Math.PI/2)),easeOutSine:t=>Math.sin(t*(Math.PI/2)),easeInOutSine:t=>-.5*(Math.cos(Math.PI*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t)),easeInCirc:t=>-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-Math.pow(t-1,2)),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeOutBounce:t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,easeInBack:t=>{const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack:t=>{const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack:t=>{let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},elastic:t=>-1*Math.pow(4,-8*t)*Math.sin((6*t-1)*(2*Math.PI)/2)+1,swingFromTo:t=>{let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},swingFrom:t=>{const e=1.70158;return t*t*((e+1)*t-e)},swingTo:t=>{const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},bounce:t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,bouncePast:t=>t<1/2.75?7.5625*t*t:t<2/2.75?2-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?2-(7.5625*(t-=2.25/2.75)*t+.9375):2-(7.5625*(t-=2.625/2.75)*t+.984375),easeFromTo:t=>(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2),easeFrom:t=>Math.pow(t,4),easeTo:t=>Math.pow(t,.25)})},432:function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.afterTween=e.beforeTween=e.tweenCreated=e.doesApply=void 0;const n=r(699),i=/(\d|-|\.)/,s=/([^\-0-9.]+)/g,o=/[0-9.-]+/g,a=(()=>{const t=o.source,e=/,\s*/.source;return new RegExp("rgba?\\(".concat(t).concat(e).concat(t).concat(e).concat(t,"(").concat(e).concat(t,")?\\)"),"g")})(),l=/^.*\(/,u=/#([0-9]|[a-f]){3,6}/gi,h="VAL",c=(t,e)=>t.map(((t,r)=>"_".concat(e,"_").concat(r))),p=t=>{let e=t.match(s);return e?(1===e.length||t.charAt(0).match(i))&&e.unshift(""):e=["",""],e.join(h)};function d(t){return parseInt(t,16)}const f=t=>"rgb(".concat((t=>{if(3===(t=t.replace(/#/,"")).length){const[e,r,n]=t.split("");t=e+e+r+r+n+n}return[d(t.substring(0,2)),d(t.substring(2,4)),d(t.substring(4,6))]})(t).join(","),")"),_=(t,e,r)=>{const n=e.match(t);let i=e.replace(t,h);return n&&n.forEach((t=>i=i.replace(h,r(t)))),i},g=t=>{for(const e in t){const r=t[e];"string"==typeof r&&r.match(u)&&(t[e]=_(u,r,f))}},v=t=>{var e,r;const n=null!==(e=t.match(o))&&void 0!==e?e:[],i=n.slice(0,3).map((t=>Math.floor(Number(t)))),s=null===(r=t.match(l))||void 0===r?void 0:r[0];if(3===n.length)return"".concat(s).concat(i.join(","),")");if(4===n.length)return"".concat(s).concat(i.join(","),",").concat(n[3],")");throw new Error("Invalid rgbChunk: ".concat(t))},w=t=>{var e;return null!==(e=t.match(o))&&void 0!==e?e:[]},m=(t,e)=>{const r={};return e.forEach((e=>{r[e]=t[e],delete t[e]})),r},b=(t,e)=>e.map((e=>Number(t[e]))),y=(t,e)=>(e.forEach((e=>t=t.replace(h,String(+e.toFixed(4))))),t);e.doesApply=t=>{for(const e in t._currentState)if("string"==typeof t._currentState[e])return!0;return!1},e.tweenCreated=function(t){const{_currentState:e,_originalState:r,_targetState:n}=t;[e,r,n].forEach(g),t._tokenData=(t=>{var e;const r={};for(const n in t){const i=t[n];"string"==typeof i&&(r[n]={formatString:p(i),chunkNames:c(null===(e=w(i))||void 0===e?void 0:e.map(Number),n)})}return r})(e)},e.beforeTween=function(t){const{_currentState:e,_originalState:r,_targetState:i,_easing:s,_tokenData:o}=t;"function"!=typeof s&&o&&((t,e)=>{var r;for(const i in e){const{chunkNames:s}=e[i],o=t[i];if("string"==typeof o){const e=o.split(" "),i=e[e.length-1];for(let o=0;o<s.length;o++){const a=s[o],l=null!==(r=e[o])&&void 0!==r?r:i;(0,n.isEasingKey)(l)&&(t[a]=l)}}else s.forEach((e=>t[e]=o));delete t[i]}})(s,o),[e,r,i].forEach((t=>((t,e)=>{for(const r in e)w(String(t[r])).forEach(((n,i)=>t[e[r].chunkNames[i]]=+n)),delete t[r]})(t,null!=o?o:{})))},e.afterTween=function(t){const{_currentState:e,_originalState:r,_targetState:n,_easing:i,_tokenData:s}=t;[e,r,n].forEach((t=>((t,e)=>{for(const r in e){const{chunkNames:n,formatString:i}=e[r],s=y(i,b(m(t,n),n));t[r]=_(a,s,v)}})(t,null!=s?s:{}))),"function"!=typeof i&&s&&((t,e)=>{for(const r in e){const{chunkNames:n}=e[r],i=t[n[0]];t[r]="string"==typeof i?n.map((e=>{const r=t[e];return delete t[e],r})).join(" "):i}})(i,s)}},188:function(t,e,r){var n,i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.shouldScheduleUpdate=e.tween=e.Tweenable=e.composeEasingObject=e.scheduleUpdate=e.processTweens=e.tweenProps=e.getListTail=e.getListHead=e.resetList=void 0;const a=r(64),l=r(55),u=r(699),h=o(r(432)),c="linear",p="undefined"!=typeof window?window:r.g,d="afterTween",f="beforeTween",_="string",g="function";let v=p.requestAnimationFrame;v||(v="undefined"==typeof window?setTimeout:window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozCancelRequestAnimationFrame&&window.mozRequestAnimationFrame||setTimeout);const w=()=>{};let m=null,b=null;e.resetList=()=>{m=b=null},e.getListHead=()=>m,e.getListTail=()=>b,e.tweenProps=(t,e,r,n,i,s,o)=>{var l;let u,h=0;const c=t<s?0:(t-s)/i;let p;for(const t in e){if(typeof o===g)p=o;else{const e=o[t];p=typeof e===g?e:null!==(l=C.easing[e])&&void 0!==l?l:a.standardEasingFunctions.linear}h=p(c),u=r[t],e[t]=u+(n[t]-u)*h}return e};const y=(t,r)=>{var n;let i=null!==(n=t._timestamp)&&void 0!==n?n:0;const s=t._currentState,o=t._delay;if(r<i+o)return;let a=t._duration;const l=t._targetState,u=i+o+a;let h=r>u?u:r;t._hasEnded=h>=u;const c=a-(u-h);if(t._hasEnded)return t._render(l,c,t._data),t.stop(!0);t._applyFilter(f),h<i+o?i=a=h=1:i+=o,(0,e.tweenProps)(h,s,t._originalState,l,a,i,t._easing),t._applyFilter(d),t._render(s,c,t._data)};e.processTweens=()=>{let t;const e=C.now();let r=m;for(;r;)t=r._next,y(r,e),r=t};const{now:S}=Date;let P,x=!1;e.scheduleUpdate=()=>{P=S(),x&&v.call(p,e.scheduleUpdate,16.666666666666668),(0,e.processTweens)()},e.composeEasingObject=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(typeof e===_&&(0,u.isEasingKey)(e))return C.easing[e];if(Array.isArray(e))return(0,l.getCubicBezierTransition)(...e);if("object"==typeof r)if(typeof e===_||typeof e===g)for(const n in t)r[n]=e;else for(const n in t)r[n]=e[n]||c;return r};const O=(()=>{let t,e;return r=>{t=null,e=null,r===m?(m=r._next,m?m._previous=null:b=null):r===b?(b=r._previous,b?b._next=null:m=null):(t=r._previous,e=r._next,t&&(t._next=e),e&&(e._previous=t)),r._previous=r._next=null}})(),T=typeof Promise===g?Promise:null;class C{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;this[n]="Promise",this._next=null,this._previous=null,this._config={},this._data={},this._delay=0,this._duration=500,this._filters=[],this._timestamp=null,this._hasEnded=!1,this._resolve=null,this._reject=null,this._originalState={},this._targetState={},this._start=w,this._render=w,this._promiseCtor=T,this._promise=null,this._isPlaying=!1,this._pausedAtTime=null,this._easing={},this._currentState=t||{},e&&this.setConfig(e)}_applyFilter(t){var e;for(let r=this._filters.length;r>0;r--){const n=this._filters[r-r];null===(e=n[t])||void 0===e||e.call(n,this)}}tween(t){return this._isPlaying&&this.stop(),!t&&this._config||this.setConfig(t),this._pausedAtTime=null,this._timestamp=C.now(),this._start(this.state,this._data),this._delay&&this._render(this._currentState,0,this._data),this._resume(this._timestamp)}setConfig(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var r;const{_config:n}=this;let i;for(i in t)n[i]=t[i];const{promise:s=this._promiseCtor,start:o=w,finish:a,render:l=w}=n;this._data=n.data||this._data,this._isPlaying=!1,this._pausedAtTime=null,this._delay=t.delay||0,this._start=o,this._render=l,this._duration=n.duration||500,this._promiseCtor=s,a&&(this._resolve=a);const{from:u,to:h={}}=t,{_currentState:c,_originalState:p,_targetState:d}=this;for(const t in u)c[t]=u[t];let f=!1;for(const t in c){const e=c[t];f||typeof e!==_||(f=!0),p[t]=e,d[t]=null!==(r=h[t])&&void 0!==r?r:e}if(this._easing=(0,e.composeEasingObject)(this._currentState,n.easing,this._easing),this._filters.length=0,f){for(const t in C.filters)C.filters[t].doesApply(this)&&this._filters.push(C.filters[t]);this._applyFilter("tweenCreated")}return this}then(t,e){if(!this._promiseCtor)throw new Error("Promise implementation is unavailable");return this._promise=new this._promiseCtor(((t,e)=>{this._resolve=t,this._reject=e})),this._promise.then(t,e)}catch(t){return this.then().catch(t)}finally(t){return this.then().finally(t)}get state(){return Object.assign({},this._currentState)}setState(t){this._currentState=t}pause(){return this._isPlaying?(this._pausedAtTime=C.now(),this._isPlaying=!1,O(this),this):this}resume(){return this._resume()}_resume(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C.now();return null===this._timestamp?this.tween():(this._isPlaying&&this._promise||(this._pausedAtTime&&(this._timestamp+=t-this._pausedAtTime,this._pausedAtTime=null),this._isPlaying=!0,null===m?(m=this,b=this):(this._previous=b,b&&(b._next=this),b=this)),this)}seek(t){var e;t=Math.max(t,0);const r=C.now();return(null!==(e=this._timestamp)&&void 0!==e?e:0)+t===0||(this._timestamp=r-t,y(this,r)),this}stop(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var r;return this._isPlaying?(this._isPlaying=!1,O(this),t&&(this._applyFilter(f),(0,e.tweenProps)(1,this._currentState,this._originalState,this._targetState,1,0,this._easing),this._applyFilter(d),this._applyFilter("afterTweenEnd")),null===(r=this._resolve)||void 0===r||r.call(this,{data:this._data,state:this._currentState,tweenable:this}),this._resolve=null,this._reject=null,this):this}cancel(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e;const{_currentState:r,_data:n,_isPlaying:i}=this;return i?(null===(e=this._reject)||void 0===e||e.call(this,{data:n,state:r,tweenable:this}),this._resolve=null,this._reject=null,this.stop(t)):this}get isPlaying(){return this._isPlaying}get hasEnded(){return this._hasEnded}data(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t&&(this._data=Object.assign({},t)),this._data}dispose(){for(const t in this)delete this[t]}}e.Tweenable=C,n=Symbol.toStringTag,C.now=()=>P,C.setScheduleFunction=t=>v=t,C.filters={token:h},C.easing=Object.create(a.standardEasingFunctions),e.tween=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new C({},{}).tween(t)},e.shouldScheduleUpdate=t=>{t&&x||(x=t,t&&(0,e.scheduleUpdate)())},(0,e.shouldScheduleUpdate)(!0)},699:function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.isEasingKey=void 0;const n=r(188);e.isEasingKey=t=>t in n.Tweenable.easing}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var s=e[n]={exports:{}};return t[n].call(s.exports,s,s.exports,r),s.exports}return r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r(607)}();var g=s(_.exports);const v={easeIn:"easeInCubic",easeOut:"easeOutCubic",easeInOut:"easeInOutCubic"};class w{constructor(t,e){if(!(this instanceof w))throw new Error("Constructor was called without new keyword");let r;if(e=h({delay:0,duration:800,easing:"linear",from:{},to:{}},e),r=p(t)?document.querySelector(t):t,null!==r&&(this.path=r),this._opts=e,this._tweenable=void 0,this.path instanceof SVGPathElement){const t=this.path.getTotalLength();this.path.style.setProperty("stroke-dasharray","".concat(t," ").concat(t)),this.set(0)}}value(){const t=this._getComputedDashOffset(),e=this.path.getTotalLength();return parseFloat((1-t/e).toFixed(6))}set(t){this.stop(),this.path.style.setProperty("stroke-dashoffset",this._progressToOffset(t).toString());const e=this._opts.render;if(d(e)){const r=this._easing(this._opts.easing);e(this._calculateTo(t,r),this._opts.shape||this)}}stop(){this._stopTween(),this.path.style.setProperty("stroke-dashoffset",this._getComputedDashOffset().toString())}animate(t,e,r){d(e=e||{})&&(r=e,e={});const n=h({},e),i=h({},this._opts);e=h(i,e);const s=this._easing(e.easing),o=this._resolveFromAndTo(t,s,n);this.stop(),this.path.getBoundingClientRect();const a=this._getComputedDashOffset(),l=this._progressToOffset(t);this._tweenable=new _.exports.Tweenable,this._tweenable.tween({from:{offset:a,...o.from},to:{offset:l,...o.to},duration:e.duration,delay:e.delay,easing:s,render:t=>{this.path.style.setProperty("stroke-dashoffset",t.offset);const r=(null==e?void 0:e.shape)||self;e&&e.render&&(null==e||e.render(t,r))}}).then((t=>(d(r)&&r(),t))).catch((t=>{throw console.error("Error in tweening:",t),t}))}_getComputedDashOffset(){const t=window.getComputedStyle(this.path,null);return parseFloat(t.getPropertyValue("stroke-dashoffset"))}_progressToOffset(t){const e=this.path.getTotalLength();return e-t*e}_resolveFromAndTo(t,e,r){return r.from&&r.to?{from:r.from,to:r.to}:{from:this._calculateFrom(e),to:this._calculateTo(t,e)}}_calculateFrom(t){return g.interpolate(this._opts.from,this._opts.to,this.value(),t)}_calculateTo(t,e){return g.interpolate(this._opts.from,this._opts.to,t,e)}_stopTween(){var t;null!==this._tweenable&&(null===(t=this._tweenable)||void 0===t||t.stop(!0),this._tweenable=void 0)}_easing(t){return t?v[t]?v[t]:t:""}}const m="Object is destroyed";class b{constructor(t,e){if(!(this instanceof b))throw new Error("Constructor was called without new keyword");if(0===arguments.length)return;this._opts=h({color:"#555",strokeWidth:1,trailColor:void 0,trailWidth:void 0,fill:void 0,text:{style:{color:"",position:"absolute",left:"50%",top:"50%",padding:0,margin:0,transform:"translate(-50%, -50%)"},autoStyleContainer:!0,alignToBottom:!0,value:null,className:"progressbar-text"},svgStyle:{display:"block",width:"100%"},warnings:!1},e);const r=this._createSvgView(this._opts);let n;if(n=p(t)?document.querySelector(t):t,!n)throw new Error("Container does not exist: "+t);this._container=n,this._container.appendChild(r.svg),this._opts.warnings&&this._warnContainerAspectRatio(this._container),this._opts.svgStyle&&c(r.svg,this._opts.svgStyle),this.svg=r.svg,this.path=r.path,this.trail=r.trail,this.text=void 0;const i=h({attachment:void 0,shape:this},this._opts);this._progressPath=new w(r.path,i),f(this._opts.text)&&null!==this._opts.text.value&&this.setText(this._opts.text.value)}animate(t,e,r){var n;if(null===this._progressPath)throw new Error(m);null===(n=this._progressPath)||void 0===n||n.animate(t,e,r)}stop(){if(null===this._progressPath)throw new Error(m);void 0!==this._progressPath&&this._progressPath.stop()}pause(){if(null===this._progressPath)throw new Error(m);void 0!==this._progressPath&&this._progressPath._tweenable&&this._progressPath._tweenable.pause()}resume(){if(null===this._progressPath)throw new Error(m);void 0!==this._progressPath&&this._progressPath._tweenable&&this._progressPath._tweenable.resume()}destroy(){var t,e,r,n;if(null===this._progressPath)throw new Error(m);this.stop(),null===(e=null===(t=this.svg)||void 0===t?void 0:t.parentNode)||void 0===e||e.removeChild(this.svg),this.svg=void 0,this.path=void 0,this.trail=void 0,this._progressPath=void 0,null!==this.text&&(null===(n=null===(r=this.text)||void 0===r?void 0:r.parentNode)||void 0===n||n.removeChild(this.text),this.text=void 0)}set(t){var e;if(null===this._progressPath)throw new Error(m);null===(e=this._progressPath)||void 0===e||e.set(t)}value(){if(null===this._progressPath)throw new Error(m);return void 0===this._progressPath?0:this._progressPath.value()}setText(t){var e,r;if(null===this._progressPath)throw new Error(m);null===this.text&&(this.text=this._createTextContainer(this._opts,this._container),null===(e=this._container)||void 0===e||e.appendChild(this.text)),f(t)?(!function(t){if(void 0!==t)for(;t.firstChild;)t.removeChild(t.firstChild)}(this.text),null===(r=this.text)||void 0===r||r.appendChild(t)):void 0!==this.text&&(this.text.innerHTML=t)}_createSvgView(t){const e=document.createElementNS("http://www.w3.org/2000/svg","svg");let r;this._initializeSvg(e),(t.trailColor||t.trailWidth)&&(r=this._createTrail(t),e.appendChild(r));const n=this._createPath(t);return e.appendChild(n),{svg:e,path:n,trail:r}}_initializeSvg(t){t.setAttribute("viewBox","0 0 100 100")}_createPath(t){const e=this._pathString(t);return this._createPathElement(e,t)}_createTrail(t){const e=this._trailString(t),r=h({},t);return r.trailColor||(r.trailColor="#eee"),r.trailWidth||(r.trailWidth=r.strokeWidth),r.color=r.trailColor,r.strokeWidth=r.trailWidth,r.fill=void 0,this._createPathElement(e,r)}_createPathElement(t,e){const r=document.createElementNS("http://www.w3.org/2000/svg","path");return r.setAttribute("d",t),r.setAttribute("stroke",e.color),r.setAttribute("stroke-width",e.strokeWidth),e.fill?r.setAttribute("fill",e.fill):r.setAttribute("fill-opacity","0"),r}_createTextContainer(t,e){const r=document.createElement("div");r.className=t.text.className;const n=t.text.style;return n&&(t.text.autoStyleContainer&&(null==e||e.style.setProperty("position","relative")),c(r,n),n.color||(r.style.color=t.color)),r}_pathString(t){throw new Error("Override this function for each progress bar ".concat(JSON.stringify(t)))}_trailString(t){throw new Error("Override this function for each progress bar ".concat(JSON.stringify(t)))}_warnContainerAspectRatio(t){if(!this.containerAspectRatio)return;const e=window.getComputedStyle(t,null),r=parseFloat(e.getPropertyValue("width")),n=parseFloat(e.getPropertyValue("height"));var i,s;i=this.containerAspectRatio,s=r/n,Math.abs(i-s)<.001||(console.warn("Incorrect aspect ratio of container","#"+t.id,"detected:",e.getPropertyValue("width")+"(width)","/",e.getPropertyValue("height")+"(height)","=",r/n),console.warn("Aspect ratio of should be",this.containerAspectRatio))}}class y extends b{_pathString(t){let e=t.strokeWidth?t.strokeWidth:1;t.trailWidth&&t.trailWidth>e&&(e=t.trailWidth);const r=50-e/2;return function(t,e){let r=t;for(const t in e)if(e[t]){const n=e[t],i=new RegExp("\\{"+t+"\\}","g");r=r.replace(i,n)}return r}(y._pathTemplate,{radius:r.toString(),"2radius":(2*r).toString()})}_trailString(t){return this._pathString(t)}}function S(t,e,r){if(t<e)return 0;if(t>r)return 100;const n=r-e,i=Math.round((t-e)/n*100);return Math.abs(i)}y._pathTemplate="M 50,50 m 0,-{radius} a {radius},{radius} 0 1 1 0,{2radius} a {radius},{radius} 0 1 1 0,-{2radius}";const P={duration:800,strokeWidth:16,trailWidth:16};const x=t=>{let{class:s,style:o,currentValue:a,minValue:h,maxValue:c,onClick:p,label:d}=t;const[f,_]=r(),g=function(t,e,r){return r<e?"Error in progress circle values: The maximum value is lower than the minimum value.":t<e?"Error in progress circle values: The progress value is lower than the minimum value.":t>r?"Error in progress circle values: The progress value is higher than the maximum value.":null}(a,h,c),v=n((t=>{if(null!==t){const e=new y(t,P);e.path&&(e.path.className.baseVal="widget-progress-circle-path"),e.trail&&(e.trail.className.baseVal="widget-progress-circle-trail-path"),_(e)}}),[_]);return i((()=>{if(f){const t=S(a,h,c);f.animate(t/100)}}),[a,h,c,f]),i((()=>()=>{null==f||f.destroy()}),[f]),e("div",{className:l("widget-progress-circle","widget-progress-circle-primary","widget-progress-circle-thickness-medium",s),style:o},g?e(u,{bootstrapStyle:"danger"},g):null,e("div",{className:l("h2","progress-circle-label-container",{"widget-progress-circle-clickable":!!p}),onClick:p,ref:v},e("div",{className:l("progressbar-text")},d)))},O=0,T=100,C=t=>{var r;const i=n((()=>{var e;return null===(e=t.onClick)||void 0===e?void 0:e.execute()}),[t.onClick]),{currentValue:s,minValue:o,maxValue:a}=function(){var e,r,n,i,s,o,a,l,u,h,c,p;switch(t.type){case"dynamic":return{currentValue:Number(null!==(r=null===(e=t.dynamicCurrentValue)||void 0===e?void 0:e.value)&&void 0!==r?r:0),minValue:Number(null!==(i=null===(n=t.dynamicMinValue)||void 0===n?void 0:n.value)&&void 0!==i?i:O),maxValue:Number(null!==(o=null===(s=t.dynamicMaxValue)||void 0===s?void 0:s.value)&&void 0!==o?o:T)};case"expression":return{currentValue:Number(null!==(l=null===(a=t.expressionCurrentValue)||void 0===a?void 0:a.value)&&void 0!==l?l:0),minValue:Number(null!==(h=null===(u=t.expressionMinValue)||void 0===u?void 0:u.value)&&void 0!==h?h:O),maxValue:Number(null!==(p=null===(c=t.expressionMaxValue)||void 0===c?void 0:c.value)&&void 0!==p?p:T)};case"static":return{currentValue:t.staticCurrentValue,minValue:t.staticMinValue,maxValue:t.staticMaxValue}}}();return e(x,{class:t.class,style:t.style,currentValue:s,minValue:o,maxValue:a,onClick:t.onClick?i:void 0,label:t.showLabel?"custom"===t.labelType?t.customLabel:"percentage"===t.labelType?"".concat(S(s,o,a),"%"):null===(r=t.labelText)||void 0===r?void 0:r.value:null})};export{C as ProgressCircle};
